!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BouncingBalls",[],e):"object"==typeof exports?exports.BouncingBalls=e():t.BouncingBalls=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s="./src/index.js")}({"./src/BouncingBalls.js":function(t,e,a){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),o=a("./src/Colors.js"),r=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.radius,r=void 0===n?10:n,s=a.color,c=void 0===s?(0,o.randomColor)():s,l=a.gravity,d=void 0===l?1:l,u=a.speed,v=void 0===u?5:u,h=a.gravityDecayRatio,f=void 0===h?1.02:h,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:2*(Math.random()-.5),y:2*(Math.random()-.5),decayRatio:1};i(this,t),this.forces={gravity:{x:0,y:d,decayRatio:f},velocity:y},this.gravity=d,this.speed=v,this.radius=r,this.pos=e||{x:this.radius,y:this.radius},this.color=c}return n(t,[{key:"getNextPos",value:function(){var t=this.aggregateForces();return{x:this.pos.x+t.x*this.speed,y:this.pos.y+t.y*this.speed}}},{key:"setPos",value:function(t){this.pos=t}},{key:"aggregateForces",value:function(){var t=this,e={x:0,y:0};return Object.keys(this.forces).forEach(function(a){var i=t.forces[a],n=i.x,o=i.y;e.x+=n||0,e.y+=o||0}),e}},{key:"decayForces",value:function(){var t=this;Object.keys(this.forces).forEach(function(e){var a=t.forces[e];a.x*=a.decayRatio||1,a.y*=a.decayRatio||1})}},{key:"moveNext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNextPos();return this.setPos(t),this.decayForces(),t}}]),t}(),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.canvas,n=void 0===a?window.document.createElement("canvas"):a,o=e.container,r=void 0===o?window.document.body:o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.gravity,d=void 0===l?1:l,u=s.speed,v=void 0===u?5:u,h=s.radius,f=void 0===h?10:h,y=s.gravityDecayRatio,g=void 0===y?1.02:y,p=s.bounceDecayRatio,b=void 0===p?.965:p,x=s.click,k=void 0===x||x,w=s.collisionRatio,m=void 0===w?.98:w,R=s.drawInterval,B=void 0===R?20:R,j=s.canvasClass,M=void 0===j?"bouncing-balls-canvas":j;i(this,t),c.call(this),this.drawing=null,this.canvas=n,this.container=r,this.settings={gravity:d,radius:f,speed:v,gravityDecayRatio:g,bounceDecayRatio:b,collisionRatio:m,drawInterval:B},this.balls=[],!this.canvas.parentElement&&this.container&&(this.canvas.classList.add(M),this.container.appendChild(n),this.canvas.width=this.container.clientWidth,this.canvas.height=this.container.clientHeight),k&&(this.canvas.removeEventListener("click",this.ballMouseHandler),this.canvas.addEventListener("click",this.ballMouseHandler))}return n(t,[{key:"drawBall",value:function(t){var e=this.canvas.getContext("2d");e.beginPath(),e.arc(t.pos.x,t.pos.y,t.radius,0,2*Math.PI,!1),e.fillStyle=t.color,e.fill(),e.closePath()}},{key:"isDrawing",value:function(){return!!this.drawing}},{key:"stop",value:function(){this.drawing&&(clearTimeout(this.drawing),this.drawing=null)}},{key:"start",value:function(){return this.drawing||(console.info("start drawing balls"),this.draw(!0)),this.drawing}},{key:"moveBall",value:function(t){var e=t.getNextPos();if(e.y>this.canvas.height-t.radius){var a=t.aggregateForces(),i=a.y-t.gravity+2*t.gravity,n={x:0,y:-i,decayRatio:this.settings.bounceDecayRatio};t.forces.bounce=n,t.forces.velocity.x*=this.settings.collisionRatio,t.forces.velocity.y=0,t.forces.gravity.y=t.gravity,e.y=this.canvas.height-t.radius}return e.x>this.canvas.width-t.radius?(t.forces.velocity.x*=-1*this.settings.collisionRatio,e=t.getNextPos(),e.x=this.canvas.width-t.radius):e.x-t.radius<0&&(t.forces.velocity.x*=-1*this.settings.collisionRatio,e=t.getNextPos(),e.x=t.radius),t.moveNext(e)}},{key:"addBall",value:function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];var i=new(Function.prototype.bind.apply(r,[null].concat(e)));return this.balls.push(i),this.start(),i}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.drawing||e){var a=this.canvas.getContext("2d");a.clearRect(0,0,this.canvas.width,this.canvas.height),a.save(),this.balls.forEach(function(e){t.moveBall(e),t.drawBall(e)}),this.drawing=setTimeout(function(){return t.draw()},this.settings.drawInterval||0)}}}]),t}(),c=function(){var t=this;this.ballMouseHandler=function(e){var a=(t.canvas.getBoundingClientRect(),e.offsetX),i=e.offsetY,n=t.settings,o=n.gravity,r=n.speed,s=n.gravityDecayRatio,c=n.radius,l=Math.ceil(360*Math.random())*Math.PI/180;return t.addBall({x:a,y:i},{gravity:o,speed:r,gravityDecayRatio:s,radius:c},{x:Math.cos(l),y:-Math.sin(l)-o,decayRatio:.99})}};e.default=s},"./src/Colors.js":function(t,e,a){"use strict";function i(){return o[Math.floor(Math.random()*o.length)]}var n={black:"#000000",blue:"#0000ff",brown:"#a52a2a",darkblue:"#00008b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",magenta:"#ff00ff",maroon:"#800000",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000"},o=Object.values(n);t.exports={Colors:n,ColorsArray:o,randomColor:i}},"./src/index.js":function(t,e,a){"use strict";var i=a("./src/BouncingBalls.js"),n=function(t){return t&&t.__esModule?t:{default:t}}(i);t.exports=n.default}})});
//# sourceMappingURL=bouncingballs.min.js.map
//# sourceMappingURL=bouncingballs.min.js.map