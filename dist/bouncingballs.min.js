!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("BouncingBalls",[],t):"object"==typeof exports?exports.BouncingBalls=t():e.BouncingBalls=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./src/index.js")}({"./node_modules/process/browser.js":function(e,t,n){"use strict";function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){m&&v&&(m=!1,v.length?y=v.concat(y):g=-1,y.length&&c())}function c(){if(!m){var e=r(s);m=!0;for(var t=y.length;t;){for(v=y,y=[];++g<t;)v&&v[g].run();g=-1,t=y.length}v=null,m=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var d,f,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(e){f=o}}();var v,y=[],m=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new u(e,t)),1!==y.length||m||r(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},"./node_modules/setimmediate/setImmediate.js":function(e,t,n){"use strict";(function(e,t){!function(e,n){function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[c]=i,s(c),c++}function o(e){delete u[e]}function r(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function a(e){if(l)setTimeout(a,0,e);else{var t=u[e];if(t){l=!0;try{r(t)}finally{o(e),l=!1}}}}if(!e.setImmediate){var s,c=1,u={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),f.setImmediate=i,f.clearImmediate=o}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n("./node_modules/webpack/buildin/global.js"),n("./node_modules/process/browser.js"))},"./node_modules/timers-browserify/main.js":function(e,t,n){"use strict";(function(e){function i(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||void 0,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||void 0}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(e,t,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(i=window)}e.exports=i},"./src/BouncingBalls.js":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n("./node_modules/timers-browserify/main.js"),a=n("./src/Colors.js"),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.radius,r=void 0===o?10:o,s=n.color,c=void 0===s?(0,a.randomColor)():s,u=n.gravity,l=void 0===u?1:u,d=n.speed,f=void 0===d?5:d,h=n.gravityDecayRatio,v=void 0===h?1.02:h,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:2*(Math.random()-.5),y:2*(Math.random()-.5),decayRatio:1};i(this,e),this.forces={gravity:{x:0,y:l,decayRatio:v},velocity:y},this.gravity=l,this.speed=f,this.radius=r,this.pos=t||{x:this.radius,y:this.radius},this.color=c}return o(e,[{key:"getNextPos",value:function(){var e=this.aggregateForces();return{x:this.pos.x+e.x*this.speed,y:this.pos.y+e.y*this.speed}}},{key:"setPos",value:function(e){this.pos=e}},{key:"aggregateForces",value:function(){return Object.values(this.forces).reduce(function(e,t){var n=t.x,i=t.y;return e.x+=n||0,e.y+=i||0,e},{x:0,y:0})}},{key:"decayForces",value:function(){Object.values(this.forces).forEach(function(e){e.x*=e.decayRatio||1,e.y*=e.decayRatio||1})}},{key:"moveNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNextPos();return this.setPos(e),this.decayForces(),e}}]),e}(),c=function(){function e(t){var n=this,o=t.canvas,r=void 0===o?document.createElement("canvas"):o,a=t.container,s=void 0===a?window.document.body:a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{gravity:1,speed:5,bounceDecayRatio:.965,gravityDecayRatio:1.02,click:!0,collisionRatio:.98,drawInterval:20};i(this,e),this.ballMouseHandler=function(e){var t=n.canvas.getBoundingClientRect(),i=e.pageX-t.left,o=e.pageY-t.top,r=n.settings,a=r.gravity,s=r.speed,c=r.gravityDecayRatio,u=Math.ceil(360*Math.random())*Math.PI/180;return n.addBall({x:i,y:o},{gravity:a,speed:s,gravityDecayRatio:c},{x:Math.cos(u),y:-Math.sin(u)-a,decayRatio:.99})},this.drawing=null,this.canvas=r,this.container=s,this.balls=[],this.settings=c,console.log(this.canvas.width),this.canvas.width=this.canvas.width||this.container.clientWidth,this.canvas.height=this.canvas.height||this.container.clientHeight,this.settings.click&&(this.canvas.removeEventListener("click",this.ballMouseHandler),this.canvas.addEventListener("click",this.ballMouseHandler))}return o(e,[{key:"drawBall",value:function(e){var t=this.canvas.getContext("2d");t.beginPath(),t.arc(e.pos.x,e.pos.y,e.radius,0,2*Math.PI,!1),t.fillStyle=e.color,t.fill(),t.closePath()}},{key:"isDrawing",value:function(){return!!this.drawing}},{key:"stop",value:function(){this.drawing&&((0,r.clearTimeout)(this.drawing),this.drawing=null)}},{key:"start",value:function(){return this.drawing||(console.info("start drawing balls"),this.draw(!0)),this.drawing}},{key:"moveBall",value:function(e){var t=e.getNextPos();if(t.y>this.canvas.height-e.radius){var n=e.aggregateForces(),i=n.y-e.gravity+2*e.gravity,o={x:0,y:-i,decayRatio:this.settings.bounceDecayRatio};e.forces.bounce=o,e.forces.velocity.x*=this.settings.collisionRatio,e.forces.velocity.y=0,e.forces.gravity.y=e.gravity,t.y=this.canvas.height-e.radius}return t.x>this.canvas.width-e.radius?e.forces.velocity.x*=-1*this.settings.collisionRatio:t.x-e.radius<0&&(e.forces.velocity.x*=-1*this.settings.collisionRatio,t=e.getNextPos()),e.moveNext(t)}},{key:"addBall",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=new(Function.prototype.bind.apply(s,[null].concat(t)));return this.balls.push(i),this.start(),i}},{key:"draw",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.drawing||t){var n=this.canvas.getContext("2d");n.clearRect(0,0,this.canvas.width,this.canvas.height),n.save(),this.balls.forEach(function(t){e.moveBall(t),e.drawBall(t)}),this.drawing=(0,r.setTimeout)(function(){return e.draw()},this.settings.drawInterval||0)}}}]),e}();t.default=c},"./src/Colors.js":function(e,t,n){"use strict";function i(){return r[Math.floor(Math.random()*r.length)]}var o={black:"#000000",blue:"#0000ff",brown:"#a52a2a",darkblue:"#00008b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",magenta:"#ff00ff",maroon:"#800000",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000"},r=Object.values(o);e.exports={Colors:o,ColorsArray:r,randomColor:i}},"./src/index.js":function(e,t,n){"use strict";var i=n("./src/BouncingBalls.js"),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=o.default}})});
//# sourceMappingURL=bouncingballs.min.js.map
//# sourceMappingURL=bouncingballs.min.js.map